#!/usr/bin/env python3
import socket

def send_request(packet_content: bytes) -> bytes:
    """
    Connects to the server, sends the request packet, waits for the response,
    and returns the response packet.
    """
    HOST = "127.0.0.1"  # Server address
    PORT = 65432        # Server port
    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as sock:
        sock.connect((HOST, PORT))
        # Send the packet content to the server.
        sock.sendall(packet_content)
        # Wait for the response. (Assumes the response is less than 1024 bytes.)
        response = sock.recv(1024)
        return response

if __name__ == "__main__":
    # Simple command-line interface for testing.
    print("Enter a command (e.g., 'count word1 word2', 'translate Hello world', or any text):")
    command = input("> ")
    response = send_request(command.encode("utf-8"))
    print("Response from server:", response.decode("utf-8"))

